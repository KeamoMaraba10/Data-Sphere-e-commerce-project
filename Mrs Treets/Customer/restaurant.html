<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MrS Treets</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="master.css">
    <link rel="stylesheet" href="restaurant.css">
</head>

<body>
    <nav class="navbar">
        <div class="logo">
            <img class="logo-img" src="Aunt J.svg" alt="" srcset="">
            <h2 class="logo-txt">MrS Treets</h2>
        </div>
        <ul class="nav-pill-list">
            <li><a href="#" target="_blank" rel="noopener noreferrer">Home</a></li>
            <li><a href="#" target="_blank" rel="noopener noreferrer">FAQs</a></li>
            <li><a href="#" target="_blank" rel="noopener noreferrer">Contact</a></li>
            <li><i class="fa-solid fa-cart-shopping"></i></li>
            <li><img class="user" src="User.svg" alt="" srcset=""width="17px"></li>
        </ul>
    </nav>
    <div class="cart">
        <h2 class="restaurant-title">Iron Cast <span class="close-cart"><img src="X circle.svg" alt="" srcset=""></span></h2>
        <div class="cart-quantity">
            <p class="cart-quantity-p">1 item</p>
            <p class="cart-subtotal-p">Subtotal: R290.80</p>
        </div>
        <div class="cart-list">
                <div class="cart-item">
                    <h4 class="cart-item-name">Chips & Russian <img src="Trash 2.svg" alt="" class="delete"></h4>
                    
                    <p class="price">R60</p>
                    <div class="quantity-buttons">
                        <button class="cart-subtract">-</button>
                        <p class="cart-number">1</p>
                        <button class="cart-add">+</button>
                    </div>
                    
                </div>
            </div>
        <h4 class="cart-quantity-h4">Subtotal <span class="subtotal-price-h4">R290.80</span></h4>
        <button class="checkout">Go to checkout</button>
    </div>
    <!-- Header ends -->

    <main>
        <div class="restaurant-header">
            <div class="restaurant-image"></div>
            <div class="restaurant-info">
                <h2 class="restaurant-name">Iron Cast</h2>
                <p class="restaurant-description">
                    Iron Cast is a vibrant eatery known for its hearty and flavorful dishes. Specializing in gourmet hot
                    dogs, they offer a variety of toppings like savory chili, tangy barbecue sauce, and fresh onions, as
                    seen in their signature creations. The menu is crafted for those who love bold flavors and
                    high-quality ingredients, making it a top choice for food enthusiasts. Perfect for casual dining or
                    quick delivery, Iron Cast promises a satisfying experience with every bite.
                </p>
                <p class="rating"><i class="fa-regular fa-star"></i> 5.0<span class="reviews">(210 reviews)</span></p>
            </div>
        </div>
        <div class="menu">
            <div class="add-to-cart">
                <h4 class="item-name" id="item-name"></h4>
                <p class="item-description" id="item-description"></p>
                <div class="order-modification">
                    <textarea name="notes" id="notes"></textarea>
                    <div class="quantity">
                        <button class="subtract">-</button>
                        <p class="number">1</p>
                        <button class="add">+</button>
                    </div>
                </div>
                <button class="btn-add-to-order">Add to cart</button>
            </div>
            <div class="menu-category">
                <p class="category-name">Chips and Russian</p>
                <div class="menu-items">
                    <div class="row">
                        <div class="item">
                            <h4 class="item-name">Chips & Russian</h4>
                            <p class="item-description">Russian Roll and Chips
                            </p>
                            <p class="price">R60</p>
                            <button class="btn-add-item">+</button>
                        </div>
                        <div class="item">
                            <h4 class="item-name">Combo 1</h4>
                            <p class="item-description"></p>
                            <p class="price">R60</p>
                            <button class="btn-add-item">+</button>
                        </div>
                        <div class="item">
                            <h4 class="item-name">Chips & Russian</h4>
                            <p class="item-description"></p>
                            <p class="price">R60</p>
                            <button class="btn-add-item">+</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="item">
                            <h4 class="item-name">Chips & Russian</h4>
                            <p class="item-description"></p>
                            <p class="price">R60</p>
                            <button class="btn-add-item">+</button>
                        </div>
                        <div class="item">
                            <h4 class="item-name">Chips & Russian</h4>
                            <p class="item-description"></p>
                            <p class="price">R60</p>
                            <button class="btn-add-item">+</button>
                        </div>
                        <div class="item">
                            <h4 class="item-name">Chips & Russian</h4>
                            <p class="item-description"></p>
                            <p class="price">R60</p>
                            <button class="btn-add-item">+</button>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </main>

    <footer>
        <div class="links">
            <div class="box1">
                <div class="logo footer-logo">
                    <img class="logo-img" src="Aunt J.svg" alt="" srcset="">
                    <h2 class="logo-txt">MrS Treets</h2>
                </div>
                <a class="phone-link box1-link" href="tel:0109483678"><i class="fa-solid fa-phone"></i> 010 948 3678</a>
                <div class="socials box1-link">
                    <a href="#" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-x-twitter"></i></a>
                    <a href="#" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-linkedin"></i></a>
                    <a href="#" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-youtube"></i></a>
                </div>
            </div>
            <div class="box2">
                <h4>Details</h3>
                    <br>
                    <a href="#" target="_blank" rel="noopener noreferrer">About</a>
                    <a href="#" target="_blank" rel="noopener noreferrer">Sign in</a>
                    <a href="#" target="_blank" rel="noopener noreferrer">Terms of Service</a>
            </div>
        </div>
        <div class="email">
            <label for="email">Email</label>
            <input type="text" placeholder="Type email" name="mail" id="email">
        </div>
        <button class="contact-support">Contact Support</button>
    </footer>
    <script>
        //when plus button is pressed the following need to happen
        //Item description and item name need to be captured
        //Then add-to-cart/modalview gets displayed
        //Then if any element in window is pressed is must be removed
        var itemName = "";
        var itemDescription = "";

        var modalView = document.getElementsByClassName("add-to-cart")[0];
        var addToCartItemName = document.getElementById("item-name");
        var addToCartItemDescription = document.getElementById("item-description");

        //elements inside the add to cart
        var subtract = document.getElementsByClassName("subtract")[0];
        var number = document.getElementsByClassName("number")[0];
        var add = document.getElementsByClassName("add")[0];
        var notes = document.getElementById("notes");
        


        var pressedBtn;
        addBtn = document.querySelectorAll(".btn-add-item");
        addBtn.forEach(element =>{
         element.addEventListener("click", function getInfo(){
            itemDescription = this.previousElementSibling.previousElementSibling.innerText
            itemName = this.previousElementSibling.previousElementSibling.previousElementSibling.innerText
            addToCartItemName.innerText = itemName
            addToCartItemDescription.innerText = itemDescription
            centerModal();
            modalView.classList.add("active");
            pressedBtn = element
         })
        });

        
        window.onclick = function(event){
            if((modalView.classList[1] === "active") && (event.target != pressedBtn)){
                console.log("it spans")
                if ((event.target != modalView) && (event.target != modalView.children[0])
                    && (event.target != modalView.children[1]) && (event.target != modalView.children[2])
                    && (event.target != notes) && (event.target != subtract) 
                    && (event.target != number) && (event.target != add) 
                    && (event.target != modalView.children[3])){
                    console.log(event.target)
                    modalView.classList.remove("active")
            }
            }    
        }

        //center modal
        function centerModal() {
            var modalContent = document.querySelector('.add-to-cart');
            var viewportHeight = window.innerHeight;
            var viewportWidth = window.innerWidth;
            
            var modalHeight = modalContent.offsetHeight;
            var modalWidth = modalContent.offsetWidth;
            var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;

            // Calculate top and left offsets based on scroll position
            var top = scrollTop + (viewportHeight - modalHeight) / 2;
            var left = scrollLeft + (viewportWidth - modalWidth) / 2;

            // Apply the calculated offsets
            modalContent.style.top = top + 'px';
            modalContent.style.left = left + 'px';
        }

        //cart operations

        //open cart
        const shoppingCart = document.querySelector(".cart");
        const cartIcon = document.querySelector(".fa-cart-shopping");

        cartIcon.addEventListener("click", () =>{
            shoppingCart.classList.add("active-cart");
        })

        //close shopping cart
        const closeCart = document.querySelector(".close-cart");
        closeCart.addEventListener("click", ()=>{
            shoppingCart.classList.remove("active-cart")
        })
    </script>

</body>

</html>